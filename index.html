<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overflow Palette - Color Puzzle Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Hub Screen (Game Selection / Level Map) -->
    <div id="hubScreen" class="screen active hub-screen">
        <div class="hub-header">
            <h1 class="hub-title">Color Worlds</h1>
            <p class="hub-subtitle">Ch·ªçn m√†n ƒë·ªÉ ch∆°i (phong c√°ch Candy)</p>
        </div>
        <div class="levels-container">
            <div id="levelsGrid" class="levels-grid"></div>
        </div>
        <div class="hub-footer">
            <button id="openDifficultyPanel" class="btn btn--secondary btn--sm">Ch∆°i ch·∫ø ƒë·ªô T·ª± do</button>
        </div>
    </div>
    <!-- Intro Screen -->
    <div id="introScreen" class="screen">
        <div class="intro-container">
            <div class="intro-content">
                <h1 class="game-title">Overflow Palette</h1>
                <h2 class="game-subtitle">A Sunday in Riccioli: Easy</h2>
                <p class="game-description">
                    It's a quiet afternoon on the Riccioli Islands. The sea breeze is warm and gentle, 
                    while the sun casts gold through the lighthouse across the shores. In light and shadow, 
                    a fisherman stands patiently with his rod, waiting for his prize catch.
                </p>
                
                <div class="difficulty-selection">
                    <h3>Ch·ªçn ƒë·ªô kh√≥:</h3>
                    <div class="difficulty-buttons">
                        <button class="btn btn--secondary difficulty-btn active" data-difficulty="easy">
                            <span class="difficulty-label">D·ªÖ</span>
                            <span class="difficulty-info">6 b∆∞·ªõc ‚Ä¢ 3 m√†u</span>
                        </button>
                        <button class="btn btn--secondary difficulty-btn" data-difficulty="normal">
                            <span class="difficulty-label">B√¨nh th∆∞·ªùng</span>
                            <span class="difficulty-info">4 b∆∞·ªõc ‚Ä¢ 4 m√†u</span>
                        </button>
                        <button class="btn btn--secondary difficulty-btn" data-difficulty="difficult">
                            <span class="difficulty-label">Kh√≥</span>
                            <span class="difficulty-info">3 b∆∞·ªõc ‚Ä¢ 5 m√†u</span>
                        </button>
                    </div>
                </div>

                <div class="preview-grid">
                    <div class="preview-cell" style="background-color: #E74C3C;"></div>
                    <div class="preview-cell" style="background-color: #2ECC71;"></div>
                    <div class="preview-cell" style="background-color: #3498DB;"></div>
                    <div class="preview-cell" style="background-color: #F1C40F;"></div>
                    <div class="preview-cell" style="background-color: #9B59B6;"></div>
                    <div class="preview-cell" style="background-color: #E74C3C;"></div>
                    <div class="preview-cell" style="background-color: #2ECC71;"></div>
                    <div class="preview-cell" style="background-color: #3498DB;"></div>
                    <div class="preview-cell" style="background-color: #F1C40F;"></div>
                </div>

                <button class="btn btn--primary go-button" id="startGame">B·∫Øt ƒë·∫ßu</button>
                <button class="btn btn--outline btn--sm" id="backToHubFromIntro">‚Üê Hub</button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen">
        <div class="game-container">
        <header class="game-header">
                <div class="game-info">
                    <div class="moves-counter">
                        <span class="label">S·ªë b∆∞·ªõc c√≤n l·∫°i:</span>
                        <span class="value" id="movesRemaining">3</span>
                    </div>
                    <button class="btn btn--outline btn--sm" id="resetButton">Reset</button>
            <button class="btn btn--secondary btn--sm" id="backToHubBtn">‚Üê Hub</button>
                </div>
            </header>

            <main class="game-content">
                <div class="grid-container">
                    <div id="gameGrid" class="game-grid"></div>
                </div>
                
                <div class="color-palette">
                    <h3>Ch·ªçn m√†u:</h3>
                    <div class="color-buttons" id="colorButtons"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Win Modal -->
    <div id="winModal" class="modal hidden">
        <div class="modal-content">
            <div class="celebration-effects"></div>
            <h2>üéâ Ch√∫c m·ª´ng!</h2>
            <p>B·∫°n ƒë√£ ho√†n th√†nh m√†n ch∆°i!</p>
            <div class="modal-buttons">
                <button class="btn btn--primary" id="nextLevelBtn">M√†n ti·∫øp theo ‚ûú</button>
                <button class="btn btn--secondary" id="playAgainBtn">Ch∆°i l·∫°i</button>
                <button class="btn btn--outline" id="backToMenuBtn">Tr·ªü v·ªÅ menu</button>
            </div>
        </div>
    </div>

    <!-- Lose Modal -->
    <div id="loseModal" class="modal hidden">
        <div class="modal-content">
            <h2>üòî H·∫øt l∆∞·ª£t!</h2>
            <p>B·∫°n ƒë√£ h·∫øt s·ªë b∆∞·ªõc cho ph√©p. H√£y th·ª≠ l·∫°i!</p>
            <div class="modal-buttons">
                <button class="btn btn--primary" id="tryAgainBtn">Th·ª≠ l·∫°i</button>
                <button class="btn btn--secondary" id="backToMenuBtn2">Tr·ªü v·ªÅ menu</button>
            </div>
        </div>
    </div>

    <!-- Particle Effects Container -->
    <div id="particleContainer" class="particle-container"></div>

    <!-- Audio Elements (Hidden) -->
    <audio id="clickSound" preload="auto" style="display: none;">
        <!-- Simulate sound with JS -->
    </audio>
    <audio id="successSound" preload="auto" style="display: none;"></audio>
    <audio id="failSound" preload="auto" style="display: none;"></audio>

    <script src="app.js"></script>
</body>
</html>